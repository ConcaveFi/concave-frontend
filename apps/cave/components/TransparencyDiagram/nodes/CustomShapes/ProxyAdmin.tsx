import { Box, Link } from '@concave/ui'
import { getExplorerURL } from 'components/TransparencyDiagram/utils'
import { Handle, Position } from 'react-flow-renderer'
import { sharedNodeContainerStyle, sharedNodeHandleStyle } from '../../styles'
import { NodeDisplayData, ShapeLabelSettingsType } from '../../types'
import { NodeText } from '../NodeText'

export function ProxyAdmin({ data }: { data: NodeDisplayData }) {
  const shapeSettings: ShapeLabelSettingsType = {
    labelBottom: '-50',
  }

  const explorerURL = getExplorerURL(data)

  return (
    <Box sx={{ ...sharedNodeContainerStyle }}>
      <Handle
        type="target"
        position={Position.Top}
        id="topTarget"
        style={{ ...sharedNodeHandleStyle, top: -15 }}
      />
      <Handle
        type="source"
        position={Position.Top}
        id="topSource"
        style={{ ...sharedNodeHandleStyle, top: -15 }}
      />
      <Handle
        type="target"
        position={Position.Bottom}
        id="bottomTarget"
        style={{ ...sharedNodeHandleStyle, bottom: '-66px' }}
      />
      <Handle
        type="source"
        position={Position.Bottom}
        id="bottomSource"
        style={{ ...sharedNodeHandleStyle, bottom: '-66px' }}
      />
      <Handle
        type="source"
        position={Position.Right}
        id="rightSource"
        style={{ ...sharedNodeHandleStyle, right: -15 }}
      />
      <Handle
        type="target"
        position={Position.Right}
        id="rightTarget"
        style={{ ...sharedNodeHandleStyle, right: -15 }}
      />{' '}
      <Handle
        type="source"
        position={Position.Left}
        id="leftSource"
        style={{ ...sharedNodeHandleStyle, left: -15 }}
      />
      <Handle
        type="target"
        position={Position.Left}
        id="leftTarget"
        style={{ ...sharedNodeHandleStyle, left: -15 }}
      />
      <NodeText data={data} shapeSettings={shapeSettings} />
      <Link href={explorerURL} target="_blank">
        <svg
          width="149"
          height="102"
          viewBox="0 0 149 102"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M41.314 18.9367C40.9742 19.0669 40.6343 19.1972 40.2944 19.3332L40.3284 9.13721L41.314 18.9367Z"
            fill="white"
          />
          <path
            d="M135.117 21.8823L135.077 35.789C135.077 36.5112 134.705 37.2363 133.993 37.8703L130.764 40.7449L128.772 40.162C128.127 37.3955 126.655 34.5664 124.921 32.07L134.034 23.9636L134.165 23.8442C134.323 23.6896 134.469 23.5233 134.6 23.3466V23.3466C134.658 23.2613 134.717 23.176 134.766 23.0907C134.991 22.7259 135.112 22.3086 135.117 21.8823V21.8823Z"
            fill="url(#paint0_linear_625_140)"
            stroke="white"
            strokeWidth="2.42155"
            strokeMiterlimit="10"
          />
          <path
            d="M97.3921 43.8895C97.3921 46.3454 96.2604 48.7955 94.0169 50.9236C93.0221 49.9807 91.9215 49.1602 90.7378 48.4792C81.8654 43.2741 67.3628 43.3776 58.728 48.4792C57.5362 49.1706 56.4249 49.9964 55.415 50.9408C53.1516 48.8042 52.02 46.3742 52.02 43.9384L52.02 43.8694C52.02 43.7774 52.02 43.6815 52.02 43.5818C52.0468 42.9384 52.1523 42.3008 52.334 41.6838C52.3595 41.586 52.3906 41.4911 52.4217 41.3962C52.5111 41.1182 52.616 40.8455 52.7358 40.5795C52.7584 40.522 52.7839 40.4645 52.8122 40.407C52.9055 40.2028 53.0074 39.9986 53.1205 39.7973C53.1771 39.6938 53.2365 39.5903 53.2988 39.4867C54.422 37.652 56.2355 35.9007 58.7818 34.4139C67.4166 29.3124 81.9191 29.2088 90.7916 34.4139C95.2193 37.0194 97.4034 40.4616 97.3921 43.8895Z"
            fill="url(#paint1_linear_625_140)"
            stroke="white"
            strokeWidth="2.42155"
            strokeMiterlimit="10"
          />
          <path
            d="M20.4124 48.1097L20.3784 59.8381L18.4282 61.6465L5.64579 57.7582C5.06183 57.5842 4.49955 57.3418 3.97015 57.036C2.77286 56.3311 2.05675 55.3778 2.05958 54.3639L2.09354 40.2349C2.09471 40.4881 2.13876 40.7393 2.22374 40.9773C2.26775 41.1006 2.32073 41.2203 2.38225 41.3355C2.7741 41.9968 3.33471 42.537 4.00411 42.8983C4.53327 43.2047 5.09561 43.447 5.67975 43.6205L20.4124 48.1097Z"
            fill="url(#paint2_linear_625_140)"
            stroke="white"
            strokeWidth="2.42155"
            strokeMiterlimit="10"
          />
          <path
            d="M24.4908 56.1014L20.4124 59.6075L20.4489 47.8821C20.9222 50.9409 22.586 53.6411 24.4908 56.1014Z"
            fill="url(#paint3_linear_625_140)"
            stroke="white"
            strokeWidth="2.42155"
            strokeMiterlimit="10"
          />
          <path
            d="M147.353 47.8821L147.313 61.6488C147.312 61.7486 147.305 61.8483 147.29 61.9471C146.942 64.0616 146.337 66.1267 145.488 68.0973L144.812 69.5722C143.784 71.6146 142.546 73.5464 141.117 75.3367C140.059 76.7102 137.55 77.504 134.915 77.4477L118.294 76.9973L118.334 63.2222L134.955 63.6725C137.59 63.7288 140.096 62.9351 141.157 61.5615C142.585 59.7712 143.824 57.8395 144.851 55.797L145.528 54.3221C146.374 52.3482 146.977 50.2804 147.324 48.1636C147.34 48.0705 147.349 47.9764 147.353 47.8821V47.8821Z"
            fill="url(#paint4_linear_625_140)"
            stroke="white"
            strokeWidth="2.42155"
            strokeMiterlimit="10"
          />
          <path
            d="M118.294 63.176L118.254 77.0446C116.737 78.1906 115.151 79.2418 113.503 80.1921C112.05 81.0428 110.516 81.8225 108.952 82.5484L108.952 78.8622C108.952 78.8027 108.952 78.7403 108.952 78.6807L108.098 69.0768C109.959 68.2571 111.774 67.338 113.535 66.3235C115.185 65.3735 116.775 64.3223 118.294 63.176Z"
            fill="url(#paint5_linear_625_140)"
            stroke="white"
            strokeWidth="2.42155"
            strokeMiterlimit="10"
            strokeLinejoin="bevel"
          />
          <path
            d="M109.117 79.0666L109.117 82.737L109.089 92.8701C109.089 94.3213 107.72 95.6794 105.422 96.2582C102.145 97.1278 98.7657 97.8449 95.3692 98.4096L92.8069 98.8048C89.2652 99.313 85.6894 99.6519 82.0594 99.8693C80.132 99.9596 78.2985 99.5417 76.9775 98.7851C76.5193 98.5299 76.1043 98.205 75.7476 97.8223L68.0606 89.3211C63.3483 88.9366 58.6694 88.2214 54.059 87.181L54.0989 73.3718C58.7034 74.4143 63.3766 75.1323 68.0834 75.5204L75.7703 84.0216C76.1271 84.4043 76.5421 84.7292 77.0003 84.9844C78.3213 85.7411 80.1547 86.1589 82.0822 86.0686C85.7064 85.8596 89.288 85.5039 92.8296 85.0041L95.392 84.6089C98.7884 84.0442 102.168 83.3271 105.445 82.4603C105.917 82.3417 106.377 82.1772 106.817 81.969C106.917 81.921 107.011 81.873 107.102 81.8222C107.286 81.724 107.464 81.6137 107.634 81.4919C107.769 81.3994 107.897 81.2985 108.018 81.1898L108.135 81.0825L108.184 81.0345L108.229 80.9921C108.272 80.9498 108.309 80.9074 108.346 80.8651C108.383 80.8227 108.42 80.7832 108.457 80.738C108.585 80.585 108.698 80.4205 108.796 80.2468C108.841 80.1655 108.881 80.0816 108.915 79.9955C109.009 79.776 109.07 79.5438 109.095 79.3066C109.107 79.227 109.114 79.1469 109.117 79.0666V79.0666Z"
            fill="url(#paint6_linear_625_140)"
            stroke="white"
            strokeWidth="2.42155"
            strokeMiterlimit="10"
          />
          <path
            d="M54.0591 73.2959L54.019 87.3979L39.9477 92.6656C37.7248 93.4931 35.0091 93.4211 32.6572 92.6195C29.3819 91.2634 26.1999 89.6895 23.1322 87.9083C20.4218 86.3349 17.8359 84.5535 15.3976 82.58C14.6728 81.865 14.2918 81.0923 14.2947 80.3311L14.3319 66.2349C14.3335 66.4474 14.3634 66.6588 14.4207 66.8634C14.4207 66.8922 14.4351 66.9182 14.4436 66.947C14.6422 67.535 14.9828 68.064 15.4348 68.4867C17.8736 70.4596 20.4594 72.2409 23.1694 73.8149C26.2384 75.5957 29.4213 77.1695 32.6973 78.5262C35.0492 79.3277 37.7649 79.3911 39.9879 78.5723L54.0591 73.2959Z"
            fill="url(#paint7_linear_625_140)"
            stroke="white"
            strokeWidth="2.42155"
            strokeMiterlimit="10"
          />
          <path
            d="M108.014 81.1178L107.982 81.1568L108.014 81.1224C108.045 81.0879 108.071 81.0535 108.098 81.019C108.071 81.0535 108.043 81.0856 108.014 81.1178ZM107.588 81.5288C107.684 81.4536 107.775 81.3716 107.862 81.2831C107.777 81.3681 107.685 81.4485 107.598 81.5288H107.588Z"
            fill="black"
          />
          <path
            d="M145.444 45.123C144.909 44.8227 144.341 44.5848 143.752 44.4139L130.886 40.5726L128.932 39.9888C128.299 37.2182 126.855 34.3849 125.155 31.8848L134.093 23.7664L134.221 23.6468C134.376 23.492 134.519 23.3254 134.648 23.1485V23.1485C134.705 23.0631 134.762 22.9776 134.811 22.8922C135.03 22.5273 135.148 22.1106 135.153 21.6849C135.153 20.9417 134.774 20.2041 133.988 19.5691C131.503 17.5798 128.868 15.7861 126.106 14.2044C123.112 12.4825 120.007 10.9605 116.812 9.64832C114.647 8.75419 111.784 8.77697 109.557 9.60276L95.568 14.8052C90.965 13.7101 86.2813 12.9873 81.5622 12.6439L73.8714 4.08138C73.5121 3.69108 73.0928 3.36042 72.6295 3.10183C71.079 2.27456 69.3268 1.90054 67.5735 2.02261C63.956 2.22763 60.3727 2.57503 56.8321 3.08759L54.2685 3.48625C50.8504 4.05576 47.4778 4.77618 44.1965 5.64753C41.7924 6.28538 40.4166 7.72338 40.5391 9.25821L41.368 18.9C41.0831 19.0281 40.7983 19.1563 40.5134 19.2901C38.9325 20.0219 37.4001 20.8164 35.936 21.6649C34.2857 22.6183 32.6961 23.673 31.1763 24.8229L14.5215 24.3729C11.8724 24.3074 9.37434 25.1218 8.30333 26.5029C6.86379 28.3118 5.62238 30.2697 4.60038 32.3432L3.9196 33.8325C3.06665 35.8291 2.45652 37.9209 2.10229 40.0629C2.07998 40.1631 2.06569 40.265 2.05957 40.3676C2.06075 40.6172 2.10507 40.8648 2.1906 41.0994C2.23488 41.2209 2.2882 41.3389 2.35011 41.4525C2.74445 42.1044 3.30861 42.6368 3.98226 42.993C4.51478 43.295 5.08068 43.5339 5.66853 43.7049L20.4804 48.1214C21.1981 51.0496 22.4886 53.8068 24.2774 56.234L20.4604 59.691L18.4979 61.4735L15.3304 64.3524C15.0319 64.5943 14.7886 64.8974 14.6171 65.2412C14.4457 65.5851 14.3499 65.9617 14.3363 66.3457C14.3379 66.5556 14.3676 66.7644 14.4246 66.9664C14.4246 66.9949 14.4389 67.0205 14.4474 67.049C14.6506 67.627 14.9941 68.1456 15.4472 68.5582C17.8721 70.5067 20.4433 72.266 23.138 73.8204C26.1896 75.5791 29.3545 77.1335 32.6119 78.4733C34.9504 79.2649 37.6508 79.3276 39.8611 78.5189L53.8526 73.3164C58.4646 74.3627 63.1449 75.0812 67.8584 75.4663L75.5492 84.0403C75.9061 84.4262 76.3213 84.7539 76.7797 85.0113C78.1014 85.7744 79.9357 86.1959 81.8641 86.1047C85.4902 85.894 89.0735 85.5352 92.617 85.0312L95.1806 84.6326C98.5787 84.0631 101.96 83.3398 105.238 82.4656C105.711 82.346 106.171 82.18 106.611 81.9701C106.711 81.9217 106.805 81.8733 106.896 81.822C107.081 81.723 107.259 81.6117 107.429 81.4889C107.566 81.3892 107.694 81.2896 107.813 81.1842L107.93 81.076L107.979 81.0276L108.024 80.9792C108.064 80.9393 108.104 80.8994 108.141 80.8567C108.178 80.814 108.215 80.7741 108.252 80.7286C108.38 80.5742 108.494 80.4083 108.591 80.2331C108.636 80.1512 108.676 80.0665 108.711 79.9797C108.805 79.7584 108.865 79.5241 108.89 79.2849C108.894 79.2052 108.894 79.1254 108.89 79.0457C108.89 78.9859 108.89 78.9232 108.89 78.8634L108.036 69.2188C109.898 68.3957 111.716 67.4727 113.479 66.4539C115.142 65.5001 116.744 64.4435 118.276 63.2902L134.933 63.7458C137.574 63.8028 140.086 62.9998 141.149 61.6102C142.581 59.799 143.822 57.8447 144.852 55.7784L145.529 54.2863C146.378 52.2893 146.982 50.1975 147.33 48.0559C147.344 47.956 147.352 47.8551 147.352 47.7541C147.361 46.7574 146.643 45.8178 145.444 45.123ZM94.2178 50.9718C93.2569 51.8597 92.1981 52.6354 91.0617 53.284C82.0066 58.5434 67.5849 58.5434 58.6523 53.3894C57.4654 52.7166 56.3588 51.9113 55.3538 50.9889C53.075 48.8732 51.9356 46.467 51.9356 44.0551L51.9356 43.9868C51.9356 43.8957 51.9356 43.8008 51.9356 43.702C51.9627 43.0649 52.0689 42.4336 52.2518 41.8227C52.2775 41.7258 52.3088 41.6319 52.3401 41.5379C52.4301 41.2626 52.5357 40.9926 52.6563 40.7292C52.6791 40.6723 52.7047 40.6153 52.7332 40.5583C52.8272 40.3562 52.9297 40.154 53.0437 39.9547C53.1007 39.8522 53.1605 39.7496 53.2231 39.6471C54.354 37.8304 56.1798 36.0963 58.7434 34.6241C67.4368 29.5726 82.0379 29.47 90.9706 34.6241C95.4426 37.204 97.6416 40.6039 97.6302 44.0067C97.6103 46.4385 96.4681 48.8646 94.2178 50.9718Z"
            stroke="white"
            strokeWidth="2.42155"
          />
          <defs>
            <linearGradient
              id="paint0_linear_625_140"
              x1="124.921"
              y1="31.3136"
              x2="135.117"
              y2="31.3136"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#4EDEF3" />
              <stop offset="1" stopColor="#4EDEF3" stopOpacity="0" />
            </linearGradient>
            <linearGradient
              id="paint1_linear_625_140"
              x1="52.02"
              y1="40.7448"
              x2="97.3922"
              y2="40.7448"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#4EDEF3" />
              <stop offset="1" stopColor="#4EDEF3" stopOpacity="0" />
            </linearGradient>
            <linearGradient
              id="paint2_linear_625_140"
              x1="2.05957"
              y1="50.9407"
              x2="20.4124"
              y2="50.9407"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#4EDEF3" />
              <stop offset="1" stopColor="#4EDEF3" stopOpacity="0" />
            </linearGradient>
            <linearGradient
              id="paint3_linear_625_140"
              x1="20.4124"
              y1="53.7448"
              x2="24.4908"
              y2="53.7448"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#4EDEF3" />
              <stop offset="1" stopColor="#4EDEF3" stopOpacity="0" />
            </linearGradient>
            <linearGradient
              id="paint4_linear_625_140"
              x1="118.294"
              y1="62.6663"
              x2="147.353"
              y2="62.6663"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#4EDEF3" />
              <stop offset="1" stopColor="#4EDEF3" stopOpacity="0" />
            </linearGradient>
            <linearGradient
              id="paint5_linear_625_140"
              x1="108.098"
              y1="72.8622"
              x2="118.294"
              y2="72.8622"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#4EDEF3" />
              <stop offset="1" stopColor="#4EDEF3" stopOpacity="0" />
            </linearGradient>
            <linearGradient
              id="paint6_linear_625_140"
              x1="54.059"
              y1="86.6266"
              x2="109.117"
              y2="86.6266"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#4EDEF3" />
              <stop offset="1" stopColor="#4EDEF3" stopOpacity="0" />
            </linearGradient>
            <linearGradient
              id="paint7_linear_625_140"
              x1="14.2947"
              y1="79.7446"
              x2="54.0591"
              y2="79.7446"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#4EDEF3" />
              <stop offset="1" stopColor="#4EDEF3" stopOpacity="0" />
            </linearGradient>
          </defs>
        </svg>
      </Link>
    </Box>
  )
}
